{"version":3,"sources":["controllers/metrics.js"],"names":["visits","get","req","res","console","log","query","result","metrics","querySplit","split","addResult","forEach","value","avg","max","min","sum","series","newVisits","returningVisits","Object","assign","json"],"mappings":"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","file":"metrics.js","sourceRoot":"../../../.."}